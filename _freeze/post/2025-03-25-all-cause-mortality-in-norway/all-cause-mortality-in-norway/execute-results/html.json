{
  "hash": "1917de257b1413054e40bab26a474929",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"All-Cause Mortality in Norway\"\ndescription: |\n  Examining all-cause mortality in Norway using publically available mortality data from SSB.\nauthor:\n  - name: \"Richard Aubrey White\"\n    url: https://www.rwhite.no\n    orcid: 0000-0002-6747-1726\ndate: 2025-03-25\ntitle-block-banner: \"#b8e2f2\"\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\nToday the Norwegian Institute of Public Health published its [report on all-cause mortality in Norway for 2024](https://www.fhi.no/nyheter/2025/dodeligheten-tilbake-til-nivaet-for-pandemien). \n\nThere are two points that are of interest:\n\nFirstly, the press release starts with:\n\n> After periods with high mortality during the COVID-19 pandemic, mortality in Norway in 2024 was within expected levels.\n\n![](top.png)\n\nThis is interesting, because the press release then states \"In 2024 mortality was within expected ranges based on the development in the period 2011-2019 and 2023.\"\n\nSo it appears as though 2023 (a year with a large amount of excess mortality) is now included in the baseline. This is concerning because it means that the baseline is now higher than it was before.\n\nSecondly, the press release states that:\n\n> No excess mortality in any age groups.\n\n![](middle.png)\n\nSo how much of this is due to the fact that the baseline has been shifted upwards? Lets find out.\n\nHere, I fit a Poisson regression with a baseline comprising of 2010, 2012-2019. I remove 2011 because of the terror attacks on the 22nd of July 2011. The regression includes an offset for population size. I then calculate the 5th, 50th and 95th percentiles of the posterior predictive distribution of the number of deaths in different age groups. I then plot the results as rates of death per 100 000 population.\n\nI have chosen a linear extrapolation out to 2023 and then set the 2024 baseline to be the same as 2023. I believe that this is reasonable because in last year's report, the NIPH used a linear extrapolation out to 2023.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlibrary(data.table)\nlibrary(magrittr)\nlibrary(ggplot2)\n\nif (interactive()) {\n  folder_location <- \"post/2025-03-25-all-cause-mortality-in-norway/\"\n} else {\n  folder_location <- \"\"\n}\n\n# Loading the cleaned data\nd_deaths <- readxl::read_excel(glue::glue(\"{folder_location}10325_20250325-102517.xlsx\"))\nsetDT(d_deaths)\nd <- melt.data.table(\n  d_deaths, \n  id.vars = \"age\",\n  variable.factor = FALSE,\n  value.name = \"deaths_n\"\n  )\nd[, year := as.numeric(variable)]\nd[, variable := NULL]\nd[, age_numeric := stringr::str_extract(age, \"\\\\d+\") %>% as.numeric()]\nd[, age_cat := fcase(\n  age_numeric == 0, \"000_000\",\n  age_numeric %in% 1:19, \"001_019\",\n  age_numeric %in% 20:39, \"020_039\",\n  age_numeric %in% 40:64, \"040_064\",\n  age_numeric %in% 65:79, \"065_079\",\n  age_numeric %in% 80:200, \"080p\"\n)]\nd <- d[, .(\n  deaths_n = sum(deaths_n)\n), keyby = .(year, age_cat)]\n\n\np <- csdata::nor_population_by_age_cats(cats = list(\n  \"000_000\" = 0,\n  \"001_019\" = 1:19,\n  \"020_039\" = 20:39,\n  \"040_064\" = 40:64,\n  \"065_079\" = 65:79,\n  \"080p\" = 80:200\n))[location_code==\"nation_nor\"]\n\nd[p, on = c(\"year==calyear\", \"age_cat==age\"), pop_jan1_n := pop_jan1_n]\nd[,deaths_vs_pop_pr100000 := 100000*deaths_n/pop_jan1_n]\n\nd[, year_frozen_at_2023 := year]\nd[year >= 2023, year_frozen_at_2023 := 2023]\n\np <- plnr::Plan$new()\np$add_data(name=\"data\", direct = d)\n\np$add_argset(age = \"000_000\")\np$add_argset(age = \"001_019\")\np$add_argset(age = \"020_039\")\np$add_argset(age = \"040_064\")\np$add_argset(age = \"065_079\")\np$add_argset(age = \"080p\")\n\nanalysis_1 <- function(argset, data){\n  if(plnr::is_run_directly()){\n    data <- p$get_data()\n    argset <- p$get_argset(1)\n  }\n  pd <- data$data[age_cat==argset$age & year>=2010]\n\n  fit <- rstanarm::stan_glm(\n    deaths_n ~ year_frozen_at_2023, \n    data = pd[year!=2011 & year<=2019], \n    offset=log(pop_jan1_n),\n    family = poisson,\n    refresh = 0\n  )\n\n  pred <- rstanarm::posterior_predict(fit, pd, offset=log(pd$pop_jan1_n))\n  retval <- apply(pred, 2, quantile, probs = c(0.05, 0.5, 0.95)) %>%\n    t() %>%\n    as.data.frame()\n  names(retval) <- c(\"p5\", \"p50\", \"p95\")\n\n  return(cbind(pd, retval))\n}\n\np$apply_action_fn_to_all_argsets(fn = analysis_1)\n\nraw <- p$run_all()\nr <- rbindlist(raw)\n\nr[deaths_n > p95]\n\nr[deaths_n > p95 & year>=2024]\n\nr[, age_pretty := fcase(\n  age_cat==\"000_000\", \"0 years old\",\n  age_cat==\"001_019\", \"1-19 years old\",\n  age_cat==\"020_039\", \"20-39 years old\",\n  age_cat==\"040_064\", \"40-64 years old\",\n  age_cat==\"065_079\", \"65-79 years old\",\n  age_cat==\"080p\", \"80+ years old\"\n)]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nq <- ggplot(r[year<=2024], aes(x = year))\nq <- q + geom_ribbon(aes(ymin=100000*p5/pop_jan1_n, ymax=100000*p95/pop_jan1_n), fill = \"black\", alpha = 0.5)\nq <- q + geom_line(aes(y = 100000*p50/pop_jan1_n))\nq <- q + geom_point(aes(y = 100000*deaths_n/pop_jan1_n))\nq <- q + geom_vline(xintercept = 2019.5, lty = 2, color = \"red\")\nq <- q + facet_wrap(~age_pretty, scales = \"free\")\nq <- q + scale_y_continuous(\"Deaths per 100 000 population\")\nq <- q + scale_x_continuous(NULL, breaks = seq(2010, 2024, 2), minor_breaks = NULL)\nq <- q + csstyle::set_x_axis_vertical()\nq <- q + labs(\n  caption = \"Weekly baseline calculated from a poisson regression of 2010, 2012-2019.\\nData extracted from SSB table 10325\"\n)\nprint(q)\n```\n\n::: {.cell-output-display}\n![](all-cause-mortality-in-norway_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\nUnfortunately, it appears as though there is still significant excess mortality in 2024, including in the younger age groups. \n\nThe Norwegian Institute of Public Health's positive press release seems to be based primarily upon a shift in the baseline, rather than a true reduction in mortality. This is concerning, as it may lead to a false sense of security.\n",
    "supporting": [
      "all-cause-mortality-in-norway_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}